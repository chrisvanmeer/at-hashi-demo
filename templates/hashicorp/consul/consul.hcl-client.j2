datacenter = "{{ hashicorp_datacenter_name }}"
data_dir = "{{ consul_data_directory }}"
encrypt = "{{ consul_ecryption_key }}"
ca_file = "{{ consul_etc_directory }}/consul-agent-ca.pem"
cert_file = "{{ consul_etc_directory }}/{{ hashicorp_datacenter_name }}-client-consul-0.pem"
key_file = "{{ consul_etc_directory }}/{{ hashicorp_datacenter_name }}-client-consul-0-key.pem"
verify_incoming = false
verify_outgoing = false
verify_server_hostname = false
retry_join = ["{{ consul_retry_join_address }}"]
bind_addr = "{{ ansible_host }}"

check_update_interval = "0s"

acl = {
  enabled = true
  default_policy = "allow"
  enable_token_persistence = true
}

performance {
  raft_multiplier = 1
}

server = false
rejoin_after_leave = true

ports {
  grpc = 8502
}

connect {
  enabled = true
}
